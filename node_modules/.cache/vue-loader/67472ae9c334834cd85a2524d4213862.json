{"remainingRequest":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/views/Schedule.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/views/Schedule.vue","mtime":1560173403559},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/css-loader/index.js","mtime":1556985446582},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1560173721357},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/postcss-loader/lib/index.js","mtime":1560173721138},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js","mtime":1560173721357}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.main {\n  display: flex;\n  align-items: center;\n}\n.calendar-holder {\n  width: 65%;\n}\n.form-holder {\n  width: 35%;\n}\n.form-holder > h3 {\n  color: orangered;\n  text-transform: uppercase;\n  font-size: 16px;\n  text-align: left;\n  margin-left: 30px;\n  margin-bottom: 10px;\n}\n",{"version":3,"sources":["Schedule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Schedule.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"main\">\n      <div class=\"calendar-holder\">\n        <calendar\n          :events=\"events\"\n          @update-event=\"handleUpdateEvent\"\n          @delete-event=\"handleDeleteEvent\"\n        />\n      </div>\n      <div class=\"form-holder\">\n        <h3>Schedule an event</h3>\n        <event-form/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MainHeader from \"@/components/MainHeader.vue\";\nimport Calendar from \"@/components/Schedule/Calendar.vue\";\nimport EventForm from \"@/components/Schedule/EventForm.vue\";\nimport Pusher from \"pusher-js\";\nexport default {\n  name: \"app\",\n  components: {\n    MainHeader,\n    Calendar,\n    EventForm\n  },\n  data() {\n    return {\n      events: [\n        {\n          eventId: 1,\n          title: \"event1\",\n          start: \"2018-12-09\",\n          cssClass: \"blue\",\n          YOUR_DATA: {}\n        },\n        {\n          eventId: 2,\n          title: \"event2\",\n          start: \"2018-12-10\",\n          end: \"2018-12-13\",\n          cssClass: [\"orange\"]\n        }\n      ]\n    };\n  },\n  created() {\n    // Add your pusher credentials\n    const pusher = new Pusher(\"b9f633f2654478de1fcd\", {\n      cluster: \"ap1\",\n      forceTLS: true\n    });\n    const channel = pusher.subscribe(\"schedule\");\n    channel.bind(\"new-event\", data => {\n      // Increment last eventId. This is just a placeholder and should be removed\n      // when saving events to the database is implemented, since auto-incrementing\n      // ids should be eventually handled by the database.\n      data.eventId = this.events.length ? this.events[this.events.length - 1].eventId++ : 0;\n\n      this.events = [...this.events, data];\n    });\n    channel.bind(\"update-event\", data => {\n      const index = this.events.findIndex(\n        ({ eventId }) => eventId == data.eventId\n      );\n      this.events.splice(index, 1, data);\n    });\n    channel.bind(\"delete-event\", id => {\n      const index = this.events.findIndex(({ eventId }) => eventId == id);\n      this.events.splice(index, 1);\n    });\n  },\n  methods: {\n    async handleDeleteEvent(id) {\n      await fetch(\"http://localhost:4000/schedule/\" + id, {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      });\n    },\n    async handleUpdateEvent(event) {\n      await fetch(\"http://localhost:4000/schedule/\" + event.eventId, {\n        method: \"PUT\",\n        body: JSON.stringify(event),\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.main {\n  display: flex;\n  align-items: center;\n}\n.calendar-holder {\n  width: 65%;\n}\n.form-holder {\n  width: 35%;\n}\n.form-holder > h3 {\n  color: orangered;\n  text-transform: uppercase;\n  font-size: 16px;\n  text-align: left;\n  margin-left: 30px;\n  margin-bottom: 10px;\n}\n</style>\n"]}]}