{"remainingRequest":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/forms/deleteTeam.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/forms/deleteTeam.vue","mtime":1560173403555},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/babel-loader/lib/index.js","mtime":1556985451660},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js","mtime":1560173721357}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport api from \"@/services/RestService\"\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: \"delete-team\",\n  props: ['data', 'team', 'type',],\n  data() {\n    return {\n      load: false,\n      file: null,\n      form: {\n        name: ''\n      }\n    }\n  },\n  updated(){\n    console.log(this.data)\n  },\n  methods: {\n    ...mapGetters({\n        getUserId: \"getUserId\"\n      }),\n\n    resetForm(){\n      this.file= null,\n      this.form = {\n        name: ''\n      }\n    },\n    async submit(evt) {\n      let that = this;\n      that.load = true;\nconsole.log(this.data[this.team]);\nconsole.log(this.data);\n    delete this.data[this.team]\nconsole.log(this.data);\nlet data = []\nfor (const team of this.data) {\n        if(team!= null){\n            data.push(team)\n        }\n}\n\n      let payload = {};\n        payload.userId = this.getUserId();\n        payload[this.type] = [ ...data];\n        api.put(\"/api/users/update-detail\", payload).\n        then(res => {that.load = false; that.$emit(\"submit\", res.data)})\n        .catch(err => console.log(err))\n    }\n  },\n  watch: {\n    data(){\n      this.form = this.data || {};\n    },\n    team(){\n      if(this.team !== false)\n      {\n        this.form.name = this.data[this.team].name;\n      }\n    }\n  }\n}\n",{"version":3,"sources":["deleteTeam.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"deleteTeam.vue","sourceRoot":"src/components/forms","sourcesContent":["<template>\n  <div>\n    <b-form @submit.prevent=\"submit($event)\">\n        <div>Are you sure to delete the team?</div> \n      <div style=\"margin-top: 20px; text-align: right\">\n        <div v-if=\"load\" class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n        <b-button type=\"submit\" variant=\"danger\">Delete</b-button>\n      </div>\n    </b-form>\n  </div> \n</template>\n\n<script>\nimport api from \"@/services/RestService\"\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: \"delete-team\",\n  props: ['data', 'team', 'type',],\n  data() {\n    return {\n      load: false,\n      file: null,\n      form: {\n        name: ''\n      }\n    }\n  },\n  updated(){\n    console.log(this.data)\n  },\n  methods: {\n    ...mapGetters({\n        getUserId: \"getUserId\"\n      }),\n\n    resetForm(){\n      this.file= null,\n      this.form = {\n        name: ''\n      }\n    },\n    async submit(evt) {\n      let that = this;\n      that.load = true;\nconsole.log(this.data[this.team]);\nconsole.log(this.data);\n    delete this.data[this.team]\nconsole.log(this.data);\nlet data = []\nfor (const team of this.data) {\n        if(team!= null){\n            data.push(team)\n        }\n}\n\n      let payload = {};\n        payload.userId = this.getUserId();\n        payload[this.type] = [ ...data];\n        api.put(\"/api/users/update-detail\", payload).\n        then(res => {that.load = false; that.$emit(\"submit\", res.data)})\n        .catch(err => console.log(err))\n    }\n  },\n  watch: {\n    data(){\n      this.form = this.data || {};\n    },\n    team(){\n      if(this.team !== false)\n      {\n        this.form.name = this.data[this.team].name;\n      }\n    }\n  }\n}\n</script>\n"]}]}