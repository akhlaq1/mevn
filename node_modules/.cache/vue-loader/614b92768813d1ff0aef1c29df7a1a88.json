{"remainingRequest":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/Portfolio/Brands.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/Portfolio/Brands.vue","mtime":1560173403547},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/css-loader/index.js","mtime":1556985446582},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1560173721357},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/postcss-loader/lib/index.js","mtime":1560173721138},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js","mtime":1560173721357}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.brands-list {\n  position: relative;\n}\n.disabled-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0,0,0,0.5);\n}\n",{"version":3,"sources":["Brands.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Brands.vue","sourceRoot":"src/components/Portfolio","sourcesContent":["<template>\n  <div class=\"row switch-container\">\n    <div class=\"col-md-12 pl-0 pr-0\">\n      <h5 class=\"heading\">Brands\n      <switches style=\"vertical-align: middle; float: right; margin-right: 60px\" v-model=\"enabled\"\n      theme=\"bootstrap\" color=\"success\"></switches>\n      <i v-if=\"data.is_private\" @click=\"showModal(false, 'Add Brand')\" class=\"fa fa-plus fa-1x\"></i>  \n      </h5>\n      <template v-if=\"data.brands && data.brands.length > 0\" >\n      <div class=\"sponsors\">\n        <flickity :options=\"{ initialIndex: Math.floor( (data.brands.length -1 ) / 2) }\" ref=\"flickity-brand\" v-if=\"data.brands && data.brands.length > 0\">\n          <div style=\"color: white; display: flex; flex-direction: column; align-items: center\" class=\"carousel-cell gallery-cell\" v-for=\"(item, key) of data.brands\" :key=\"key\" >\n            <p>{{item.name}}</p>\n            <img :src=\"item.picture\" alt=\"t shirt\" style=\"height: 70px\">\n            <p class=\"mt-3\">{{item.price}} WGT</p>\n            <a class=\"btn buy_now\" :href=\"item.link\" style=\"background-color: white\">Buy Now </a>\n              <i v-if=\"data.is_private\" @click=\"showModal(key, 'Edit Brand')\" style=\"margin-top:25px\" class=\"fa fa-pencil fa-1x update-team \" ></i>\n              <i v-if=\"data.is_private\" @click=\"showDeleteBrandModal(true,key)\" style=\"margin-top:25px\" class=\"fa fa-trash fa-1x delete-team \" ></i>\n          </div>\n        </flickity>\n        <div class=\"disabled-overlay\" v-if=\"enabled == false\"></div>\n      </div>\n      </template>\n    </div>\n    <b-modal ref=\"brandModal\" id=\"modal1\" :title=\"title\" hide-footer>\n        <EditBrand    :request=\"(Object.keys(this.data).length == 0) ? 'post' : 'put'\" @submit=\"closeModal\" :index=\"editItem\"\n        :data=\"data.brands ? data.brands : []\" />\n    </b-modal>\n\n    <b-modal ref=\"deleteBrandModal\" id=\"modal3\" title=\"Delete Brand\"  hide-footer>\n        <div>\n          <b-form @submit.prevent=\"submit($event)\">\n              <div>Are you sure to delete the brand?</div> \n            <div style=\"margin-top: 20px; text-align: right\">\n              <div v-if=\"load\" class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n              <b-button type=\"submit\" variant=\"danger\">Delete</b-button>\n            </div>\n          </b-form>\n        </div> \n    </b-modal>\n\n  </div>\n</template>\n\n<script>\nimport Switches from 'vue-switches';\nimport EditBrand from '@/components/forms/EditBrand';\nimport DeleteBrand from '@/components/forms/deleteBrand';\nimport Flickity from 'vue-flickity';\nimport api from \"@/services/RestService\"\nimport { mapGetters, mapActions } from \"vuex\";\n\nexport default {\n  name: 'Brands',\n  components: {\n    Switches,\n    EditBrand,\n    DeleteBrand,\n    Flickity\n  },\n  props: ['data'],\n  data() {\n    return {\n      title:'',\n      brandToDelete:\"\",\n      deleteBrandIndex:\"\",\n      enabled: true,\n      load:true,\n      editItem: false\n    }\n  },\n  methods: {\n    ...mapGetters({\n        getUserId: \"getUserId\"\n    }),\n    showModal(edit,title) {\n      this.title = title\n      this.editItem = edit;\n      // alert(edit)\n      this.$refs.brandModal.show();\n    },\n    closeModal() {\n      if (this.editItem !== false)\n        this.$emit(\"refresh\");\n      this.$refs.brandModal.hide();\n        this.$emit(\"refresh\");\n    },\n    showDeleteBrandModal(current,key) {\n      event.stopPropagation(); \n      this.deleteBrandIndex = key;\n      this.$refs.deleteBrandModal.show();\n    },\n    closedeleteBrandModal(res){\n        this.$refs.deleteBrandModal.hide();\n    },\n    async submit(evt) {\n      let that = this;\n      this.load = true;\n      let dat = this.data.brands.splice(this.deleteBrandIndex,1)\n      let payload = {};\n        payload.userId = this.getUserId();\n        payload['brands'] = [ ...this.data.brands];\n        api.put(\"/api/users/update-detail\", payload).\n        then(res => {that.load = false; \n          this.$emit(\"refresh\");\n          // that.$emit(\"submit\", res.data)\n          this.closedeleteBrandModal()\n        })\n        .catch(err => console.log(err))\n    }\n  }\n}\n</script>\n\n<style>\n  .brands-list {\n    position: relative;\n  }\n  .disabled-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0,0,0,0.5);\n  }\n</style>\n"]}]}