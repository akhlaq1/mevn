{"remainingRequest":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/thread-loader/dist/cjs.js!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/babel-loader/lib/index.js!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/views/Schedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/views/Schedule.vue","mtime":1560173403559},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/thread-loader/dist/cjs.js","mtime":1560173721326},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/babel-loader/lib/index.js","mtime":1556985451660},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js","mtime":1560173721357}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\nimport \"core-js/modules/es6.array.find-index\";\nimport _toConsumableArray from \"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/toConsumableArray\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MainHeader from \"@/components/MainHeader.vue\";\nimport Calendar from \"@/components/Schedule/Calendar.vue\";\nimport EventForm from \"@/components/Schedule/EventForm.vue\";\nimport Pusher from \"pusher-js\";\nexport default {\n  name: \"app\",\n  components: {\n    MainHeader: MainHeader,\n    Calendar: Calendar,\n    EventForm: EventForm\n  },\n  data: function data() {\n    return {\n      events: [{\n        eventId: 1,\n        title: \"event1\",\n        start: \"2018-12-09\",\n        cssClass: \"blue\",\n        YOUR_DATA: {}\n      }, {\n        eventId: 2,\n        title: \"event2\",\n        start: \"2018-12-10\",\n        end: \"2018-12-13\",\n        cssClass: [\"orange\"]\n      }]\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // Add your pusher credentials\n    var pusher = new Pusher(\"b9f633f2654478de1fcd\", {\n      cluster: \"ap1\",\n      forceTLS: true\n    });\n    var channel = pusher.subscribe(\"schedule\");\n    channel.bind(\"new-event\", function (data) {\n      // Increment last eventId. This is just a placeholder and should be removed\n      // when saving events to the database is implemented, since auto-incrementing\n      // ids should be eventually handled by the database.\n      data.eventId = _this.events.length ? _this.events[_this.events.length - 1].eventId++ : 0;\n      _this.events = _toConsumableArray(_this.events).concat([data]);\n    });\n    channel.bind(\"update-event\", function (data) {\n      var index = _this.events.findIndex(function (_ref) {\n        var eventId = _ref.eventId;\n        return eventId == data.eventId;\n      });\n\n      _this.events.splice(index, 1, data);\n    });\n    channel.bind(\"delete-event\", function (id) {\n      var index = _this.events.findIndex(function (_ref2) {\n        var eventId = _ref2.eventId;\n        return eventId == id;\n      });\n\n      _this.events.splice(index, 1);\n    });\n  },\n  methods: {\n    handleDeleteEvent: function () {\n      var _handleDeleteEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"http://localhost:4000/schedule/\" + id, {\n                  method: \"DELETE\",\n                  headers: {\n                    \"content-type\": \"application/json\"\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function handleDeleteEvent(_x) {\n        return _handleDeleteEvent.apply(this, arguments);\n      };\n    }(),\n    handleUpdateEvent: function () {\n      var _handleUpdateEvent = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(event) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(\"http://localhost:4000/schedule/\" + event.eventId, {\n                  method: \"PUT\",\n                  body: JSON.stringify(event),\n                  headers: {\n                    \"content-type\": \"application/json\"\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function handleUpdateEvent(_x2) {\n        return _handleUpdateEvent.apply(this, arguments);\n      };\n    }()\n  }\n};",{"version":3,"sources":["Schedule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAmBA,OAAA,UAAA,MAAA,6BAAA;AACA,OAAA,QAAA,MAAA,oCAAA;AACA,OAAA,SAAA,MAAA,qCAAA;AACA,OAAA,MAAA,MAAA,WAAA;AACA,eAAA;AACA,QAAA,KADA;AAEA,cAAA;AACA,0BADA;AAEA,sBAFA;AAGA;AAHA,GAFA;AAOA,MAPA,kBAOA;AACA,WAAA;AACA,cAAA,CACA;AACA,iBAAA,CADA;AAEA,eAAA,QAFA;AAGA,eAAA,YAHA;AAIA,kBAAA,MAJA;AAKA,mBAAA;AALA,OADA,EAQA;AACA,iBAAA,CADA;AAEA,eAAA,QAFA;AAGA,eAAA,YAHA;AAIA,aAAA,YAJA;AAKA,kBAAA,CAAA,QAAA;AALA,OARA;AADA,KAAA;AAkBA,GA1BA;AA2BA,SA3BA,qBA2BA;AAAA;;AACA;AACA,QAAA,SAAA,IAAA,MAAA,CAAA,sBAAA,EAAA;AACA,eAAA,KADA;AAEA,gBAAA;AAFA,KAAA,CAAA;AAIA,QAAA,UAAA,OAAA,SAAA,CAAA,UAAA,CAAA;AACA,YAAA,IAAA,CAAA,WAAA,EAAA,gBAAA;AACA;AACA;AACA;AACA,WAAA,OAAA,GAAA,MAAA,MAAA,CAAA,MAAA,GAAA,MAAA,MAAA,CAAA,MAAA,MAAA,CAAA,MAAA,GAAA,CAAA,EAAA,OAAA,EAAA,GAAA,CAAA;AAEA,YAAA,MAAA,sBAAA,MAAA,MAAA,UAAA,IAAA;AACA,KAPA;AAQA,YAAA,IAAA,CAAA,cAAA,EAAA,gBAAA;AACA,UAAA,QAAA,MAAA,MAAA,CAAA,SAAA,CACA;AAAA,YAAA,OAAA,QAAA,OAAA;AAAA,eAAA,WAAA,KAAA,OAAA;AAAA,OADA,CAAA;;AAGA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EAAA,IAAA;AACA,KALA;AAMA,YAAA,IAAA,CAAA,cAAA,EAAA,cAAA;AACA,UAAA,QAAA,MAAA,MAAA,CAAA,SAAA,CAAA;AAAA,YAAA,OAAA,SAAA,OAAA;AAAA,eAAA,WAAA,EAAA;AAAA,OAAA,CAAA;;AACA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA,KAHA;AAIA,GApDA;AAqDA,WAAA;AACA,qBADA;AAAA;AAAA;AAAA,+CACA,EADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,MAAA,oCAAA,EAAA,EAAA;AACA,0BAAA,QADA;AAEA,2BAAA;AACA,oCAAA;AADA;AAFA,iBAAA,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AASA,qBATA;AAAA;AAAA;AAAA,gDASA,KATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAUA,MAAA,oCAAA,MAAA,OAAA,EAAA;AACA,0BAAA,KADA;AAEA,wBAAA,KAAA,SAAA,CAAA,KAAA,CAFA;AAGA,2BAAA;AACA,oCAAA;AADA;AAHA,iBAAA,CAVA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AArDA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"main\">\n      <div class=\"calendar-holder\">\n        <calendar\n          :events=\"events\"\n          @update-event=\"handleUpdateEvent\"\n          @delete-event=\"handleDeleteEvent\"\n        />\n      </div>\n      <div class=\"form-holder\">\n        <h3>Schedule an event</h3>\n        <event-form/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport MainHeader from \"@/components/MainHeader.vue\";\nimport Calendar from \"@/components/Schedule/Calendar.vue\";\nimport EventForm from \"@/components/Schedule/EventForm.vue\";\nimport Pusher from \"pusher-js\";\nexport default {\n  name: \"app\",\n  components: {\n    MainHeader,\n    Calendar,\n    EventForm\n  },\n  data() {\n    return {\n      events: [\n        {\n          eventId: 1,\n          title: \"event1\",\n          start: \"2018-12-09\",\n          cssClass: \"blue\",\n          YOUR_DATA: {}\n        },\n        {\n          eventId: 2,\n          title: \"event2\",\n          start: \"2018-12-10\",\n          end: \"2018-12-13\",\n          cssClass: [\"orange\"]\n        }\n      ]\n    };\n  },\n  created() {\n    // Add your pusher credentials\n    const pusher = new Pusher(\"b9f633f2654478de1fcd\", {\n      cluster: \"ap1\",\n      forceTLS: true\n    });\n    const channel = pusher.subscribe(\"schedule\");\n    channel.bind(\"new-event\", data => {\n      // Increment last eventId. This is just a placeholder and should be removed\n      // when saving events to the database is implemented, since auto-incrementing\n      // ids should be eventually handled by the database.\n      data.eventId = this.events.length ? this.events[this.events.length - 1].eventId++ : 0;\n\n      this.events = [...this.events, data];\n    });\n    channel.bind(\"update-event\", data => {\n      const index = this.events.findIndex(\n        ({ eventId }) => eventId == data.eventId\n      );\n      this.events.splice(index, 1, data);\n    });\n    channel.bind(\"delete-event\", id => {\n      const index = this.events.findIndex(({ eventId }) => eventId == id);\n      this.events.splice(index, 1);\n    });\n  },\n  methods: {\n    async handleDeleteEvent(id) {\n      await fetch(\"http://localhost:4000/schedule/\" + id, {\n        method: \"DELETE\",\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      });\n    },\n    async handleUpdateEvent(event) {\n      await fetch(\"http://localhost:4000/schedule/\" + event.eventId, {\n        method: \"PUT\",\n        body: JSON.stringify(event),\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n.main {\n  display: flex;\n  align-items: center;\n}\n.calendar-holder {\n  width: 65%;\n}\n.form-holder {\n  width: 35%;\n}\n.form-holder > h3 {\n  color: orangered;\n  text-transform: uppercase;\n  font-size: 16px;\n  text-align: left;\n  margin-left: 30px;\n  margin-bottom: 10px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}