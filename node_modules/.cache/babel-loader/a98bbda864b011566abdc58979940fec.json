{"remainingRequest":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/thread-loader/dist/cjs.js!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/babel-loader/lib/index.js!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/Portfolio/MainContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/src/components/Portfolio/MainContent.vue","mtime":1560173403547},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/thread-loader/dist/cjs.js","mtime":1560173721326},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/babel-loader/lib/index.js","mtime":1556985451660},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/cache-loader/dist/cjs.js","mtime":1560173719903},{"path":"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/vue-loader/lib/index.js","mtime":1560173721357}],"contextDependencies":[],"result":["import _toConsumableArray from \"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/toConsumableArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/ubuntu/Documents/akhlaq_fiverr/MEVN/cleaned/node_modules/@vue/babel-preset-app/node_modules/@babel/runtime/helpers/builtin/es6/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport DeleteTeam from '@/components/forms/deleteTeam';\nimport EditTeam from '@/components/forms/EditTeam';\nimport EditAchievement from '@/components/forms/EditAchievement';\nimport UserService from '@/services/UserService';\nimport { mapGetters, mapActions } from \"vuex\";\nimport api from \"@/services/RestService\";\nimport Flickity from 'vue-flickity';\nexport default {\n  name: 'MainContent',\n  components: {\n    EditTeam: EditTeam,\n    EditAchievement: EditAchievement,\n    Flickity: Flickity,\n    DeleteTeam: DeleteTeam\n  },\n  props: [\"data\"],\n  data: function data() {\n    return {\n      flickityOptions: {\n        initialIndex: Math.floor(4 / 2) - 1,\n        pageDots: true\n      },\n      title: '',\n      load: '',\n      teamToEdit: \"\",\n      editTeamItem: false,\n      teamToDelete: \"\",\n      deleteAcheivementIndex: '',\n      deleteTeamIndex: false,\n      editAchievementItem: false,\n      modalComponent: EditTeam\n    };\n  },\n  created: function created() {\n    console.log(this.data);\n    console.log('get');\n  },\n  computed: {\n    fields: function fields() {\n      return this.newData || this.data;\n    }\n  },\n  methods: {\n    showDeleteAcheivementModal: function showDeleteAcheivementModal(current, key) {\n      event.stopPropagation();\n      this.deleteAcheivementIndex = key;\n      this.$refs.deleteAcheivementModal.show();\n    },\n    closedeleteAcheivementModal: function closedeleteAcheivementModal(res) {\n      this.$refs.deleteAcheivementModal.hide();\n    },\n    submit: function () {\n      var _submit = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(evt) {\n        var _this = this;\n\n        var that, dat, payload;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                that = this;\n                this.load = true;\n                console.log(this.data);\n                dat = this.data.acheivements.splice(this.deleteAcheivementIndex, 1);\n                payload = {};\n                payload.userId = this.getUserId();\n                payload['acheivements'] = _toConsumableArray(this.data.acheivements);\n                api.put(\"/api/users/update-detail\", payload).then(function (res) {\n                  that.load = false;\n\n                  _this.$emit(\"refresh\"); // that.$emit(\"submit\", res.data)\n\n\n                  _this.closedeleteAcheivementModal();\n                }).catch(function (err) {\n                  return console.log(err);\n                });\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function submit(_x) {\n        return _submit.apply(this, arguments);\n      };\n    }(),\n    showTeamModal: function showTeamModal() {\n      var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var edit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var key = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var title = '';\n      var request = '';\n\n      if (edit) {\n        title = \"Edit Team\";\n        request = 'put';\n      } else {\n        title = \"Add Team\";\n        request = 'post';\n      }\n\n      this.teamToEdit = current ? {\n        data: this.data.currentTeam,\n        type: 'currentTeam',\n        title: title\n      } : {\n        data: this.data.pastTeam,\n        type: 'pastTeam',\n        title: title,\n        key: key\n      };\n      this.editTeamItem = key;\n      this.$refs.teamModal.show();\n    },\n    showDeleteTeamModal: function showDeleteTeamModal(current, key) {\n      event.stopPropagation(); // let title='';\n\n      this.teamToDelete = current ? {\n        data: this.data.currentTeam,\n        type: 'currentTeam'\n      } : {\n        data: this.data.pastTeam,\n        type: 'pastTeam'\n      };\n      this.deleteTeamIndex = key;\n      this.$refs.deleteTeamModal.show();\n    },\n    closeDeleteTeamModal: function closeDeleteTeamModal(res) {\n      if (this.deleteTeamIndex !== false) this.$emit(\"refresh\");\n      this.$refs.deleteTeamModal.hide();\n      this.$emit(\"refresh\");\n    },\n    closeTeamModal: function closeTeamModal(res) {\n      if (this.editTeamItem !== false) this.$emit(\"refresh\");\n      this.$refs.teamModal.hide();\n      this.$emit(\"refresh\");\n    },\n    showAchievementModal: function showAchievementModal(acheivementIndex, edit) {\n      if (edit) {\n        this.title = \"Edit Acheivement\";\n      } else {\n        this.title = \"Add Acheivement\";\n      }\n\n      this.editAchievementItem = acheivementIndex;\n      this.$refs.achievementModal.show();\n    },\n    closeAchievementModal: function closeAchievementModal() {\n      if (this.editAchievementItem !== false) this.$emit(\"refresh\");\n      this.$refs.achievementModal.hide();\n      this.$emit(\"refresh\");\n    }\n  }\n};",{"version":3,"sources":["MainContent.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"col-md-8 main-content\">\n    <div class=\"row\">\n      <div class=\"col-md-6\">\n        <h5 class=\"heading\">Current Teams</h5>\n        <i v-if=\"data.is_private\" @click=\"showTeamModal(true,false,false)\" class=\"fa fa-plus fa-1x\"></i>\n          <template v-if=\"data.currentTeam && data.currentTeam.length > 0\">\n            <div class=\"current-team\">\n              <flickity  :options=\"{ initialIndex: Math.floor(this.data.currentTeam.length - 1 ) / 2 }\"  ref=\"flickity\" >\n                <div class=\"carousel-cell\" v-for=\"(item, key) of data.currentTeam\" :key=\"key\" >\n                  <img :src=\"item.imgPath ? item.imgPath : 'img/team.png'\" alt=\"Photo not found\">\n                  <h5>{{item.name}}</h5>\n                  <i v-if=\"data.is_private\" @click=\"showTeamModal(true, true, key)\" class=\"fa fa-pencil fa-1x update-team \" ></i>\n                  <i v-if=\"data.is_private\" @click=\"showDeleteTeamModal(true,key)\" class=\"fa fa-trash fa-1x delete-team \" ></i>\n                </div>\n              </flickity>\n            </div>\n          </template>\n          <template v-else>\n            <img  class=\"radius-50-cent height-90 \" src=\"img/team.png\" alt=\"Photo not found\">\n            <div class=\"text-white margin-top-10\" >My Team</div>\n          </template>    \n      </div>\n      <div class=\"col-md-6\">\n        <h5 class=\"heading\">Past Teams</h5>\n        <i v-if=\"data.is_private\" @click=\"showTeamModal(false,false, false)\" class=\"fa fa-plus fa-1x\"></i>\n          <template v-if=\"data.pastTeam && data.pastTeam.length > 0\">\n            <div class=\"current-team\">\n              <flickity :options=\"{ initialIndex: Math.floor(this.data.pastTeam.length - 1 ) / 2 }\" ref=\"flickity-pastteam\" >\n                <div class=\"carousel-cell gallery-cell\" v-for=\"(item, key) of data.pastTeam\" :key=\"key\" >\n                  <img :src=\"item.imgPath ? item.imgPath : 'img/team.png'\" alt=\"Team 1\">\n                  <h5>{{item.name}}</h5>\n                  <i v-if=\"data.is_private\" @click=\"showTeamModal(false,true, key)\" class=\"fa fa-pencil fa-1x update-team \" ></i>\n                  <i v-if=\"data.is_private\" @click=\"showDeleteTeamModal(false,key)\" class=\"fa fa-trash fa-1x delete-team \" ></i>\n                  <!-- <i @click=\"showTeamModal(false,false, false)\" class=\"fa fa-plus fa-1x\"></i> -->\n                </div>\n              </flickity>\n            </div>\n          </template>\n          <template v-else>\n            <img class=\"radius-50-cent height-90\" src=\"img/team.png\" alt=\"Photo not found\">\n            <div class=\"text-white margin-top-10\" >My Team</div>\n          </template>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-12\" style=\"margin-bottom:30px\" >\n        <h5 class=\"heading\" >Badges</h5>\n        <flickity ref=\"flickity\" class=\"height-126\" :options=\"flickityOptions\">\n            <div class=\"carousel-cell\">\n              <img src=\"img/badges1.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell\">\n              <img src=\"img/badges2.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell\">\n              <img src=\"img/badges3.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell\">\n              <img src=\"img/badges4.png\" alt=\"\">\n            </div>\n        </flickity>\n        <!-- <h5 class=\"heading\">Badges</h5>\n          <flickity  :options=\"flickityOptions\" class=\"badges\" ref=\"flickity\">\n            <div class=\"carousel-cell gallery-cell\">\n              <img src=\"img/badges1.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell gallery-cell\">\n              <img src=\"img/badges2.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell gallery-cell\">\n              <img src=\"img/badges3.png\" alt=\"\">\n            </div>\n            <div class=\"carousel-cell gallery-cell\">\n              <img src=\"img/badges4.png\" alt=\"\">\n            </div>\n          </flickity> -->\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-12 \">\n        <h5 class=\"heading\" >Acheivements</h5>\n        <i v-if=\"data.is_private\" @click=\"showAchievementModal(false, false)\" class=\"fa fa-plus fa-1x\"></i>\n        <template v-if=\"data.acheivements && data.acheivements.length > 0\"> \n          <div class=\"achivements\">\n            <flickity ref=\"flickity\" :options=\"{ initialIndex: Math.floor( (data.acheivements.length - 1 ) / 2) }\"  >\n              <div class=\"carousel-cell gallery-cell\"  @click=\"showAchievementModal(index,true)\" v-for=\"(item, index) of data.acheivements\" :key=\"index\">\n                <img :src=\"item.imgPath\" alt=\"\" style=\"height:80px\" >\n                <h5 class=\"rank\">{{item.acheivementName}}</h5>\n                <h5>{{(item.dateOfAcheivement.split('T'))[0]}}</h5>\n                <h5>{{item.venueOfAcheivemnet}}</h5>\n                <i v-if=\"data.is_private\" @click=\"showDeleteAcheivementModal(true,key)\" class=\"fa fa-trash fa-1x delete-team \" ></i>\n\n              </div>\n            </flickity>\n          </div>\n        </template>\n        <template v-else>\n            <img class=\"radius-50-cent height-90\" src=\"img/star.png\" alt=\"Photo not found\">\n            <h5 class=\"rank\">My Acheivement</h5>\n            <h5>My Venue</h5>\n            <h5>31/12/2012</h5>\n        </template>\n\n      </div>\n    </div>\n    <div class=\"row\" >\n      <div class=\"col-md-6 color\" v-b-popover.hover=\"'View our top tournaments.'\" title=\"Coming soon!\">\n        <h5 class=\"heading\">Raised</h5>\n        <div class=\"row t m-0\">\n          <div class=\"col-6 p-0\">\n            <h5>H2H</h5>\n            <h5>783,450 WGT</h5>\n            <h5 class=\"percentage\">(30%)</h5>\n            <a class=\"btn fund\" href=\"#\">Fund</a>\n          </div>\n          <div class=\"col-6 p-0\">\n            <h5>Tournaments</h5>\n            <h5>1,000,000 WGT</h5>\n            <h5 class=\"percentage\">(25%)</h5>\n            <a class=\"btn fund\" href=\"#\">Fund</a>\n          </div>\n        </div>\n        <div class=\"row m-0\">\n          <div class=\"col-12 next-match\">\n            <h5>Next Match CS : GO 18 / 08 / 18\n              <a class=\"btn btn-sm btn-more\" href=\"#\">More</a>\n            </h5>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-6 color\" v-b-popover.hover=\"'View popular prize pools.'\" title=\"Coming soon!\">\n        <h5 class=\"heading\">Vote</h5>\n        <div class=\"vote\">\n          <ol>\n            <li>\n              <span>Summer Hit 5 Millon Prze Pool</span>\n              <p class=\"like float-right\">\n                <i class=\"fa fa-thumbs-up\"></i> 7k</p>\n            </li>\n            <hr>\n            <li>\n              <span>Tour De france 2 Millon Prze Pool</span>\n              <p class=\"like float-right\">\n                <i class=\"fa fa-thumbs-up\"></i> 5.1k</p>\n            </li>\n            <hr>\n            <li>\n              <span>Euro Cup CS : GO 1 Millon Prze Pool</span>\n              <p style=\"padding-top: 5px\" class=\"like float-right\">\n                <i class=\"fa fa-thumbs-up\"></i> 4.1k</p>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n    <!-- Modal Component -->\n    <b-modal ref=\"teamModal\" id=\"modal1\" :title=\"teamToEdit.title\" hide-footer>\n      <EditTeam @submit=\"closeTeamModal\" :type=\"teamToEdit.type\"\n        :data=\"teamToEdit.data\" :team=\"editTeamItem\" />\n    </b-modal>\n    <b-modal ref=\"achievementModal\" id=\"modal2\" :title=\"title\" hide-footer>\n      <EditAchievement :request=\"(Object.keys(this.data).length == 0) ? 'post' : 'put'\" @submit=\"closeAchievementModal\" :index=\"editAchievementItem\"\n        :data=\"data.acheivements ? data.acheivements : []\" />\n    </b-modal>\n\n    <b-modal ref=\"deleteTeamModal\" id=\"modal3\" title=\"Delete Team\"  hide-footer>\n      <DeleteTeam @submit=\"closeDeleteTeamModal\"\n        :type=\"teamToDelete.type\"\n        :data=\"teamToDelete.data\"\n        :team=\"deleteTeamIndex\" />\n    </b-modal>\n        <b-modal ref=\"deleteAcheivementModal\" id=\"modal3\" title=\"Delete Acheivement\"  hide-footer>\n        <div>\n          <b-form @submit.prevent=\"submit($event)\">\n              <div>Are you sure to delete the acheivement?</div> \n            <div style=\"margin-top: 20px; text-align: right\">\n              <div v-if=\"load\" class=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n              <b-button type=\"submit\" variant=\"danger\">Delete</b-button>\n            </div>\n          </b-form>\n        </div> \n    </b-modal>\n  </div>\n\n</template>\n\n<script>\nimport DeleteTeam from '@/components/forms/deleteTeam';\nimport EditTeam from '@/components/forms/EditTeam';\nimport EditAchievement from '@/components/forms/EditAchievement';\nimport UserService from '@/services/UserService';\nimport {\n  mapGetters,\n  mapActions\n} from \"vuex\";\nimport api from \"@/services/RestService\"\nimport Flickity from 'vue-flickity';\n\nexport default {\n  name: 'MainContent',\n  components: {\n    EditTeam,\n    EditAchievement,\n    Flickity,\n    DeleteTeam\n  },\n  props: [\"data\"],\n  data() {\n    \n    return {\n      flickityOptions: {\n        initialIndex: Math.floor(4/2) - 1,\n        pageDots: true,\n      },\n      title:'',\n      load:'',\n      teamToEdit: \"\",\n      editTeamItem: false,\n      teamToDelete: \"\",\n      deleteAcheivementIndex:'',\n      deleteTeamIndex:false,\n      editAchievementItem: false,\n      modalComponent: EditTeam\n    }\n  },\n  created(){\n    console.log(this.data)\n    console.log('get')\n  },\n  computed: {\n    fields() {\n      return this.newData || this.data;\n    }\n  },\n  methods: {\n        showDeleteAcheivementModal(current,key) {\n      event.stopPropagation(); \n      this.deleteAcheivementIndex = key;\n      this.$refs.deleteAcheivementModal.show();\n    },\n    closedeleteAcheivementModal(res){\n        this.$refs.deleteAcheivementModal.hide();\n    },\n    async submit(evt) {\n      let that = this;\n      this.load = true;\n      console.log(this.data)\n      let dat = this.data.acheivements.splice(this.deleteAcheivementIndex,1)\n      let payload = {};\n        payload.userId = this.getUserId();\n        payload['acheivements'] = [ ...this.data.acheivements];\n        api.put(\"/api/users/update-detail\", payload).\n        then(res => {that.load = false; \n          this.$emit(\"refresh\");\n          // that.$emit(\"submit\", res.data)\n          this.closedeleteAcheivementModal()\n        })\n        .catch(err => console.log(err))\n    },\n    showTeamModal(current = true, edit = false, key = false) {\n      let title='';\n      let request= '';\n      if(edit){\n        title =\"Edit Team\";\n        request = 'put';\n      } else {\n        title =\"Add Team\"\n        request = 'post';\n\n      }\n      this.teamToEdit = current ? {\n        data: this.data.currentTeam,\n        type: 'currentTeam',\n        title: title,\n      } : {\n        data: this.data.pastTeam,\n        type: 'pastTeam',\n        title: title,\n        key: key\n      };\n      this.editTeamItem = key;\n      this.$refs.teamModal.show();\n    },\n    showDeleteTeamModal(current,key) {\n    \n      event.stopPropagation(); // let title='';\n      this.teamToDelete = current ? {\n        data: this.data.currentTeam,\n        type: 'currentTeam',\n      } : {\n        data: this.data.pastTeam,\n        type: 'pastTeam',\n      };\n      this.deleteTeamIndex = key;\n      this.$refs.deleteTeamModal.show();\n    },\n    closeDeleteTeamModal(res){\n      if (this.deleteTeamIndex !== false)\n        this.$emit(\"refresh\");\n        this.$refs.deleteTeamModal.hide();\n        this.$emit(\"refresh\");\n    },\n    closeTeamModal(res) {\n      if (this.editTeamItem !== false)\n        this.$emit(\"refresh\");\n      this.$refs.teamModal.hide();\n        this.$emit(\"refresh\");\n    },\n    showAchievementModal(acheivementIndex, edit) {\n      if(edit){\n        this.title= \"Edit Acheivement\"\n      } else{\n        this.title= \"Add Acheivement\"\n      }\n      this.editAchievementItem = acheivementIndex;\n      this.$refs.achievementModal.show();\n    },\n    closeAchievementModal() {\n      if (this.editAchievementItem !== false)\n        this.$emit(\"refresh\");\n      this.$refs.achievementModal.hide();\n        this.$emit(\"refresh\");\n    }\n  }\n}\n</script>\n\n<style>\n.color div{\nfilter: grayscale(100%);\n-webkit-filter: grayscale(100%);\n-webkit-transition: all 1s ease;\n}\n\n.color div:hover{\nfilter: grayscale(0%);\nfilter: gray;\n-webkit-filter: grayscale(0%);\nfilter: none;\ntransition: 1s ease;\n}\n</style>\n"],"sourceRoot":"src/components/Portfolio"}]}